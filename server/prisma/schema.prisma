generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model cart {
  id        Int        @id
  userId    Int        @map("user")
  user      user       @relation(fields: [userId], references: [id])
  cartItems cartItem[]
}

model cartItem {
  id       Int  @id
  cartId   Int  @map("cart")
  itemId   Int  @map("item")
  quantity Int
  cart     cart @relation(fields: [cartId], references: [id])
  item     item @relation(fields: [itemId], references: [id])

  @@map("cart-item")
}

model category {
  id    Int     @id @default(autoincrement())
  name  String? @db.VarChar(255)
  items item[]
}

model item {
  id         Int        @id
  name       String     @db.VarChar(255)
  price      Float
  categoryId Int        @map("category")
  category   category   @relation(fields: [categoryId], references: [id])
  cart_items cartItem[]
}

model profile {
  id   Int     @id @default(autoincrement())
  name String? @db.VarChar(255)
  user user[]
}

model user {
  id        Int     @id @default(autoincrement())
  name      String  @db.VarChar(255)
  email     String  @unique @db.VarChar(255)
  password  String  @db.VarChar(500)
  profileId Int     @map("profile")
  profile   profile @relation(fields: [profileId], references: [id])
  cart      cart[]
}
